<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>课题三：自动驾驶电动汽车大数据云雾融合平台研究</title>
    
    <!--设置是否为缩放模式 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" type="text/css" href="bootstrap/3.3.4/css/bootstrap.css">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <!-- <script src="js/jquery.min.js"></script> -->
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script> -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="js/bootstrap.min.js"></script>

    <!-- 元素抖动 -->
    <link href="css/shake/shake.css" rel="stylesheet" media="all">

    <!-- 弹出式窗口 -->
    <link rel="stylesheet" type="text/css" href="css/default.css" />
    <link rel="stylesheet" type="text/css" href="css/component.css" />
    <script src="js/modernizr.custom.js"></script>

    <!-- 服务器配置 -->
    <script src="js/server.js"></script>

    <!--echarts JS-->
    <!-- <script src="js/echarts.min.js"></script> -->
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.0.2/echarts.js"></script>

    <!-- 轮播swiper文件 -->
    <link rel="stylesheet" type="text/css" href="css/swiper.min.css">
    <script src="js/swiper.min.js"></script>

    <!--界面样式-->
    <script src="js/visual.js"></script>
    <script src="js/china.js"></script>
    <!-- <script src="js/xiamen.js"></script> -->
    <script src="js/chartMap.js"></script>
    <link rel="stylesheet" type="text/css" href="css/visual.css">

    <!-- semantic UI -->
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/icon.css" rel="stylesheet">
    <!-- <link href="https://cdn.bootcss.com/semantic-ui/2.4.1/components/icon.css" rel="stylesheet"> -->
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/button.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/transition.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/transition.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/button.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/semantic-ui/2.4.1/components/icon.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/dropdown.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/dropdown.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/input.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/button.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/dropdown.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/dropdown.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/label.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/semantic-ui/2.4.1/components/divider.css" rel="stylesheet">

    <!-- semantic的下拉菜单不能反色，用formantic -->
    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/fomantic-ui/2.8.7/components/dropdown.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/fomantic-ui/2.8.7/components/dropdown.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.bootcdn.net/ajax/libs/fomantic-ui/2.8.7/components/button.css" rel="stylesheet"> -->

    <!-- 百度地图 -->
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=NjvQlGFSxuq5B7ld8vdIWwuGfdy2sTsq"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.0&type=webgl&ak=NjvQlGFSxuq5B7ld8vdIWwuGfdy2sTsq"></script>
        <!-- 百度地图绘图需要的css，存在跨域问题，所以手动复制下来作为静态资源提供 -->
    <link rel="stylesheet" type="text/css" href="css/bmap.css">

    <!-- 容器反转 -->
    <link rel="stylesheet" type="text/css" href="css/flip.css">
    <script src="js/flip.js"></script>

    <!-- echarts 绘图脚本 -->
    <script src="js/charts.js"></script>

    <!-- 数据请求脚本 -->
    <script src="js/dashboard.js"></script>
    <script src="js/scoreboard.js"></script>

    <!-- 时钟 -->
    <!-- <link rel="stylesheet" href="css/clock.css"> -->

    <!-- 坐标转换 -->
    <script src="js/coordtransform.js"></script>

    <!-- 其他css -->
    <link rel="stylesheet" type="text/css" href="css/mine.css">
    <script src="js/mine.js"></script>

    <!-- retro button -->
    <link rel="stylesheet" href="css/retro-button/style.css">

</head>
<body class="ksh" id='main_body'>
    
    <div id="load">
        <div class="load_img">
            <!-- 加载动画 -->
            <img class="jzxz1" src="images/jzxz1.png">
            <img class="jzxz2" src="images/jzxz2.png">
        </div>
    </div>
    <div id='main_title' class="head_top"><span>课题三：自动驾驶电动汽车大数据云雾融合平台研究</span></div>
    <div class="visual">
        <div class="visual_left" style="width: 50%;">
            <div class="visual_box" style="width: 98%; height: 49%;">
                <div class="visual_title" style="width: 30%;">
                    <span>车内直播视频-1</span>
                    <img src="images/ksh33.png">
                </div>
    
                <div class="visual_chart">
                    <!-- <iframe id="video1" src="video.html" style="width: 100%; height: 98%; "  frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="yes"></iframe> -->
                </div>
    
            </div>
            <div class="visual_box" style="width: 98%; height: 49%;">
                <div class="visual_title" style="width: 30%;">
                    <span>车内直播视频-2</span>
                    <img src="images/ksh33.png">
                </div>
    
                <div class="visual_chart">
                    <!-- <iframe id="video1" src="video.html" style="width: 100%; height: 98%; "  frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="yes"></iframe> -->
                </div>
    
            </div>
        </div>
        

        <div class="visual_right" style="width: 50%;">
            <div class="visual_box" style="width: 98%; height: 49%;">
                <div class="visual_title" style="width: 30%;">
                    <span>远程决策结果展示视频</span>
                    <img src="images/ksh33.png">
                </div>
    
                <div class="visual_chart">
                    <!-- <iframe id="video1" src="video.html" style="width: 100%; height: 98%; "  frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="yes"></iframe> -->
                </div>
    
            </div>
            <div class="visual_box" style="width: 98%; height: 49%;">
                <div class="visual_title" style="width: 30%;">
                    <span>远程决策支持系统</span>
                    <img src="images/ksh33.png">
                </div>

                
                <div class="visual_chart">
                    <div style="width: 100%; height: 100%; overflow: auto; float: left;">

                        <h4 class="ui horizontal inverted divider header">
                            <i class="bell outline icon"></i>
                            即时信息
                        </h4>

                        <div class="ui input floating focus" style="width: 40%;">
                            <input id='message_content' type="text" placeholder="请输入消息内容">
                        </div>

                        <div id='message_level' class="ui floating icon dropdown button">
                            <!-- 没法用js的方法设置默认值 -->
                            <span class="text">
                                <div class="ui green empty circular label"></div>
                                提醒
                            </span>
                            <div class="menu">
                                <div class="item">
                                    <!-- <div class="ui red horizontal label">危急</div> -->
                                    <div class="ui red empty circular label"></div>
                                    危险
                                </div>
                                <div class="item">
                                    <div class="ui orange empty circular label"></div>
                                    警告
                                </div>
                                <div class="item" id='default_level'>
                                    <div class="ui green empty circular label"></div>
                                    提醒
                                </div>
                            </div>
                        </div>

                        <div class="ui buttons" style="width: 25%;">
                            <button class="ui inverted button" onclick="make_decision()">发送</button>
                            <div class="or"></div>
                            <button id='save_ope_btn' class="ui inverted blue button" onclick="save_operation()">保存</button>
                        </div>

                        <button id='remove_ope_btn' class="ui inverted right floated button" onclick="remove_operation()">移除信息</button>

                        <h4 class="ui horizontal inverted divider header">
                            <i class="eye icon"></i>
                            自动决策系统
                        </h4>

                        <button id='auto_battery' class="ui inverted violet button" style="margin-top: 5px;" onclick="auto_battery_decide()">自动电量决策已关闭</button>
                        <button id='auto_road' class="ui inverted violet button" style="margin-top: 5px;" onclick="auto_road_decide()">自动路况决策已关闭</button>
                        <!-- <button class="ui violet button" style="margin-top: 5px;">自动电量决策已启动</button> -->
                        <!-- <button id='auto_all' class="ui inverted button" style="margin-top: 5px;" onclick="auto_all_decide()">一键开启</button> -->
 
                        <h4 class="ui horizontal inverted divider header">
                            <i class="tag icon"></i>
                            快捷信息
                        </h4>

                        <div id='saved_operation'>
                            <button class="saved_ope ui inverted red button" style="margin-bottom: 5px;" onclick="saved_but_click(this)">危险：你的车很危急</button>
                            <button class="saved_ope ui inverted orange button" style="margin-bottom: 5px;" onclick="saved_but_click(this)">警告：你的车有一点点危急</button>
                            <button class="saved_ope ui inverted green button" style="margin-bottom: 5px;" onclick="saved_but_click(this)">提醒：hi!</button>
                        </div>
                    </div>
                    <!-- 车辆反馈信息可以坐在这里，也可以做在左侧信息栏里 -->
                    <!-- <div id='warning_button' style="width: 30%; height: 100%; overflow: auto; float: left;">

                    </div> -->
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>

    <script>
        $('#message_level')
            .dropdown()
        ;

        // $('#message_level').dropdown('set selected', '<div class="ui orange empty circular label"></div>警告');
        // $('#message_level').dropdown('set text', '警告');
    </script>

    <!-- <script  src="js/clock.js"></script> -->
    <script>
        var auto_battery_on = false;
        // $("#auto_battery").mouseover(function(){
        //     console.log('over')
        // });
        function auto_battery_decide(){
            if(auto_battery_on == true){
                auto_battery_on = false;
                $('#auto_battery').text('自动电量决策已关闭');
                $('#auto_battery').addClass('inverted');
            }else{
                auto_battery_on = true;
                $('#auto_battery').text('自动电量决策已启动');
                $('#auto_battery').removeClass('inverted');
            }
        }

        var auto_road_on = false;
        function auto_road_decide(){
            if(auto_road_on == true){
                auto_road_on = false;
                $('#auto_road').text('自动路况决策已关闭');
                $('#auto_road').addClass('inverted');
            }else{
                auto_road_on = true;
                $('#auto_road').text('自动路况决策已启动');
                $('#auto_road').removeClass('inverted');
            }
        }

        // var auto_all_on = false;
        // function auto_all_decide(){
        //     $('#auto_battery').click();
        //     $('#auto_road').click();
        //     if(auto_road_on == true){
        //         auto_road_on = false;
        //         $('#auto_road').text('自动路况决策已关闭');
        //         $('#auto_road').addClass('inverted');
        //     }else{
        //         auto_road_on = true;
        //         $('#auto_road').text('自动路况决策已启动');
        //         $('#auto_road').removeClass('inverted');
        //     }
        // }
    </script>
    <script>
        // 去掉字符串里的所有空格
        function Trim(str){ 
            return str.replace(/(^\s*)|(\s*$)/g, ""); 
        }

        function make_decision(){
            var cur_level = Trim($('#message_level').dropdown('get text'));
            var cur_content = $('#message_content').val();

            console.log(cur_level);
            console.log(cur_content);

            if(cur_content == ''){
                cur_content = '请输入消息内容';
            }
            send_decision(cur_level, cur_content);
        }

        function send_decision(level, content){
            console.log('send_decision awaken');
            alert('信息等级：'+level+'\n信息内容：'+content);
        }

        function save_operation(){
            var cur_level = Trim($('#message_level').dropdown('get text'));
            var cur_content = $('#message_content').val();

            console.log(cur_level);
            console.log(cur_content);

            if(cur_content == ''){
                cur_content = '请输入消息内容';
            }

            var but_content = cur_level+': '+cur_content

            cur_button = '<button class="saved_ope ui inverted ';
            switch(cur_level){
                case '提醒': cur_button += 'green'; break;
                case '警告': cur_button += 'orange'; break;
                case '危险': cur_button += 'red'; break;
            }
            cur_button += ' button" style="margin-bottom: 5px;" onclick="saved_but_click(this)">';
            cur_button += but_content;
            cur_button += '</button>';

            $('#saved_operation').append(cur_button);
        }

        function saved_but_click(cur_but){

            if(cur_remove_mode == false){
                var cur_text = $(cur_but).text();
                var cur_level = cur_text.slice(0,2);
                var cur_content = cur_text.slice(3);

                send_decision(cur_level, cur_content);
            }else{
                $(cur_but).remove();
            }
        }

        var cur_remove_mode = false;
        function remove_operation(){
            if(cur_remove_mode == true){
                cur_remove_mode = false;
                $('#remove_ope_btn').addClass('inverted');
                $('.saved_ope').hover(function(){}, function(){});
            }else{
                $('.saved_ope').hover(function(){
                    if(cur_remove_mode == true){
                        $(this).addClass('shake');
                    }
                }, function(){
                    $(this).removeClass('shake');
                });
                cur_remove_mode = true;
                $('#remove_ope_btn').removeClass('inverted');
            }
        }
        
    </script>

    <script type="text/javascript" src="js/subfig_2.js"></script>
    <!-- <script type="text/javascript" src="js/baiduMap.js"></script> -->

    <script type="text/javascript">
        $(function () {
            var a = $('.visualSssf_left a')
            for (var i = 0; i < a.length; i++) {
                a[i].index = i;
                a[i].onclick = function () {
                    for (var i = 0; i < a.length; i++) {
                        a[i].className = ''
                    }
                    this.className = 'active'
                }
            }

            var sfzcllH = $('.sfzcll_box').height()
            var sfzcllHtwo = sfzcllH - 2
            $('.sfzcll_box').css('line-height', sfzcllH + 'px')
            $('.sfzcll_smallBk>div').css('line-height', sfzcllHtwo + 'px')

            //删除加载动画
            $('#load').fadeOut(1000)
            setTimeout(function () {
                $('#load').remove()
            }
    		, 1100);
        })

    </script>
    

</body>
</html>
